<?xml version="1.0"?>
<ui:Popup xmlns:fx="http://ns.adobe.com/mxml/2009"
          xmlns:s="library://ns.adobe.com/flex/spark"
          xmlns:ui="ui.*"
          width="700"
          height="500">

    <fx:Script><![CDATA[
        import global.Icons;

        import mx.collections.ArrayCollection;
        import mx.events.FlexEvent;

        import spark.events.IndexChangeEvent;

        private var _metas:ArrayCollection = new ArrayCollection();

        override public function onCreationComplete(event:FlexEvent):void
        {
            super.onCreationComplete(event);
        }

        public function set metas(value:ArrayCollection):void
        {
            _metas = value;
        }

        private function onChangeSelection(event:IndexChangeEvent):void
        {
            trace("changed");
            var selectedItem:RNMeta = listMetas.selectedItem;
        }

        override public function dispose():void
        {
        }
        ]]>
    </fx:Script>

    <s:VGroup width="100%"
              height="100%"
              gap="10">

        <s:HGroup width="100%"
                  verticalAlign="middle">
            <s:Label text="Edit Schedule"
                     width="100%"
                     styleName="header" />
            <s:Button id="closeButton"
                      icon="{Icons.close}"
                      click="{close()}" />
        </s:HGroup>

        <s:Label text="The schedule defines what packages are active and when and where they are deployed."
                 width="100%" />

        <s:HGroup width="100%"
                  height="100%">
            <s:List id="listMetas"
                    width="240"
                    height="100%"
                    dataProvider="{_metas}"
                    itemRenderer="ui.renderers.RNMetaItemRenderer"
                    contentBackgroundAlpha="0"
                    borderVisible="false"
                    useVirtualLayout="false"
                    horizontalScrollPolicy="off"
                    verticalScrollPolicy="auto"
                    change="onChangeSelection(event)" />

            <s:VGroup width="100%">
                <ui:TextInputWithIcon id="inputScheduleName"
                                      prompt="Name"
                                      width="100%" />
                <ui:TextInputWithIcon id="url"
                                      prompt="Url"
                                      width="100%" />
                <ui:DateTimeChooser id="dateChooserStart"
                                    width="100%" />

            </s:VGroup>
        </s:HGroup>

    </s:VGroup>
</ui:Popup>
